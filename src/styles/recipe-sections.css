/**
 * Recipe Section Styles
 * 
 * This file contains CSS styles for recipe content sections and components.
 * It provides styling for recipe structure, ingredient lists, instructions,
 * and other recipe-specific content elements.
 * 
 * Key Features:
 * - Recipe content structure styling
 * - Ingredient list formatting
 * - Instruction step styling
 * - Recipe metadata display
 * - Section heading hierarchy
 * - Content spacing and typography
 * 
 * Recipe Components:
 * - Ingredient lists and measurements
 * - Step-by-step instructions
 * - Recipe metadata cards
 * - Section dividers and spacing
 * - Content containers and layouts
 * - Print-friendly styling
 * 
 * Usage:
 * - Applied to recipe content pages
 * - Used by recipe markdown processing
 * - Provides consistent recipe presentation
 * - Supports responsive recipe layouts
 * 
 * Dependencies:
 * - Tailwind CSS v4
 * - Custom theme variables
 * - Markdown content processing
 * 
 * @author Tomi
 * @version 1.0.0
 */

/* Recipe Section Styles */

/* =============================================================================
   RECIPE INSTRUCTION STEPS - MINIMAL BOLD MODERNISTIC DESIGN
   ============================================================================= */

/* Don't apply bottom margin when followed by collapsed content */
.recipe-body .recipe-instruction-steps:last-child.section-content-collapsed {
  @apply mb-0;
}

/* Modern instruction steps container */
.recipe-body .recipe-instruction-steps {
  @apply space-y-8 p-0;
  counter-reset: instruction-counter;
}

/* Individual instruction step - clean, spacious layout */
.recipe-body .recipe-instruction-step {
  @apply relative p-0 cursor-pointer overflow-hidden;
  counter-increment: instruction-counter;
  @apply min-h-auto transform-gpu will-change-[opacity,transform] transition-all duration-300 ease-out;
}

/* Step number - bold, geometric design */
.recipe-body .recipe-instruction-step::before {
  content: counter(instruction-counter);
  @apply flex mr-8 mt-1 float-left items-center justify-center w-12 h-12 text-2xl font-black tracking-tight;
  @apply bg-slate-900 text-primary-light rounded-lg shadow-lg;
  @apply leading-none pointer-events-auto z-10 transform-gpu will-change-[transform] transition-all duration-300 ease-out;
}

/* Remove default list markers */
.recipe-body .recipe-instruction-step::marker {
  @apply content-none;
}

/* Step content area - clean typography with proper spacing */
.recipe-body .recipe-instruction-step > * {
  @apply mt-0 mb-0;
}

/* Ensure proper spacing for nested content */
.recipe-body .recipe-instruction-step ul,
.recipe-body .recipe-instruction-step ol {
  @apply mt-4 mb-0 ml-6;
}

.recipe-body .recipe-instruction-step:not(.step-completed):hover::before {
  @apply scale-105;
}

/* Completed step styling - elegant completion state */
.recipe-body .recipe-instruction-step.step-completed {
  @apply opacity-75;
}

.recipe-body .recipe-instruction-step.step-completed::before {
  content: "✓";
  @apply bg-emerald-600 text-primary-light shadow-lg;
}

.recipe-body .recipe-instruction-step.step-completed:hover {
  @apply opacity-90;
}

.recipe-body .recipe-instruction-step.step-completed:hover::before {
  @apply bg-emerald-700 shadow-xl scale-105;
}

/* Mobile responsiveness - maintain clean design on smaller screens */
@media (max-width: 768px) {
  .recipe-body .recipe-instruction-step::before {
    @apply w-10 h-10 text-xl;
  }
  
  .recipe-body .recipe-instruction-step .recipe-info-button {
    @apply size-6;
  }
}

/* Focus states for accessibility */
.recipe-body .recipe-instruction-step:focus-within {
  @apply outline-none;
}

.recipe-body .recipe-instruction-step:focus-within::before {
  @apply ring-2 ring-slate-400 ring-offset-2;
}

/* ===== MISE EN PLACE SECTION ===== */
#mise-en-place + ul {
  @apply pl-0 my-6;
}

#mise-en-place + ul .task-list-item {
  @apply flex items-center gap-6 mb-5 cursor-pointer;
}

#mise-en-place + ul .task-list-item input[type="checkbox"] {
  @apply size-5 md:size-6 cursor-pointer flex-shrink-0;
}

/* ===== SECTION COMPLETION CONTROLS ===== */
.recipe-body .recipe-section--instructions h2.section-completed,
.recipe-body .recipe-section--instructions h3.section-completed,
.recipe-body .recipe-section--instructions h4.section-completed {
  @apply relative cursor-pointer transition-all duration-200;
}

.recipe-body .recipe-section--instructions h2.section-completed::after,
.recipe-body .recipe-section--instructions h3.section-completed::after,
.recipe-body .recipe-section--instructions h4.section-completed::after {
  @apply absolute right-3 top-1/2 -translate-y-1/2 size-8 text-primary-light text-sm font-bold rounded-full;
  @apply flex items-center justify-center transition-all duration-300 cursor-pointer opacity-0;
}

/* X button for expanded completed sections */
.recipe-body .recipe-section--instructions h2.section-completed:not(.section-collapsed).section-background-applied::after,
.recipe-body .recipe-section--instructions h3.section-completed:not(.section-collapsed).section-background-applied::after,
.recipe-body .recipe-section--instructions h4.section-completed:not(.section-collapsed).section-background-applied::after {
  content: "✕";
  @apply bg-red-500 opacity-100;
  animation: button-fade-in 0.3s ease-out;
}

.recipe-body .recipe-section--instructions h2.section-completed:not(.section-collapsed).section-background-applied:hover::after,
.recipe-body .recipe-section--instructions h3.section-completed:not(.section-collapsed).section-background-applied:hover::after,
.recipe-body .recipe-section--instructions h4.section-completed:not(.section-collapsed).section-background-applied:hover::after {
  @apply scale-110 bg-red-600;
}

/* Checkmark for collapsed completed sections */
.recipe-body .recipe-section--instructions h2.section-completed.section-collapsed.section-background-applied::after,
.recipe-body .recipe-section--instructions h3.section-completed.section-collapsed.section-background-applied::after,
.recipe-body .recipe-section--instructions h4.section-completed.section-collapsed.section-background-applied::after {
  content: "✓";
  @apply bg-green-600 opacity-100;
  animation: button-fade-in 0.3s ease-out;
}

.recipe-body .recipe-section--instructions h2.section-completed.section-collapsed.section-background-applied:hover::after,
.recipe-body .recipe-section--instructions h3.section-completed.section-collapsed.section-background-applied:hover::after,
.recipe-body .recipe-section--instructions h4.section-completed.section-collapsed.section-background-applied:hover::after {
  @apply scale-110;
}

/* Collapsed section styling */
.recipe-body .recipe-section--instructions h2.section-completed.section-collapsed.section-background-applied,
.recipe-body .recipe-section--instructions h3.section-completed.section-collapsed.section-background-applied,
.recipe-body .recipe-section--instructions h4.section-completed.section-collapsed.section-background-applied {
  @apply bg-green-100;
}

/* ===== SETTINGS BUTTON ===== */
.recipe-body .recipe-section > h2 .recipe-settings-button,
.recipe-body .recipe-section > h3 .recipe-settings-button {
  @apply float-right p-1.5 sm:p-2.5;
}

.recipe-body .recipe-settings-icon {
  @apply size-5 transition-transform duration-200;
}

.recipe-body .recipe-settings-button[aria-expanded="true"] .recipe-settings-icon {
  @apply rotate-90;
}

/* ===== COLLAPSED CONTENT ANIMATIONS ===== */
.recipe-body .section-content-collapsed {
  @apply max-h-0 my-0 overflow-hidden opacity-0 transition-all duration-500 ease-in-out py-0 border-b border-primary-dark;
}

.section-content-expanded {
  @apply max-h-none opacity-100 transition-all duration-500 ease-in-out;
}

.section-collapsing {
  @apply transition-all duration-500 ease-in-out;
}

@keyframes button-fade-in {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

.header-container {
  @apply flex items-center justify-between gap-4 md:mb-8 mb-4;
}